"DROP TABLE IF EXISTS   `ft_event` ;     CREATE  TABLE IF NOT EXISTS   `ft_event` (     `splitlot_id` INT(10) NOT NULL ,     `event_id` MEDIUMINT(8) NOT NULL ,     `run_id` MEDIUMINT(8) NULL ,     `event_type` VARCHAR(20) NULL ,     `event_subtype` VARCHAR(20) NULL ,     `event_time` DATETIME NULL ,     `event_message` BLOB NULL ,     PRIMARY KEY (`splitlot_id`, `event_id`) )    ;"

"DROP TABLE IF EXISTS   `ft_ptest_results` ;  CREATE  TABLE IF NOT EXISTS   `ft_ptest_results` (     `splitlot_id` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `ptest_info_id` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `run_id` UNSIGNED MEDIUMINT(8)  NOT NULL DEFAULT '0' ,     `run_index` UNSIGNED TINYINT(2)  NOT NULL ,     `flags` BINARY(1) NOT NULL DEFAULT '\\0' ,     `value` FLOAT NULL DEFAULT NULL ,     PRIMARY KEY (`splitlot_id`, `ptest_info_id`, `run_id`, `run_index`) )  ;  "

"DROP TABLE IF EXISTS   `ft_ptest_dynlimits` ;"
"CREATE  TABLE IF NOT EXISTS   `ft_ptest_dynlimits` (     `splitlot_id`  UNSIGNED INT(10) NOT NULL DEFAULT '0' ,     `ptest_info_id` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `run_id` UNSIGNED MEDIUMINT(8)  NOT NULL ,     `limit_index` UNSIGNED TINYINT(2)  NOT NULL ,     `limit_type` CHAR NOT NULL ,     `limit_mode` UNSIGNED TINYINT(2)  NOT NULL ,     `LL` FLOAT NULL DEFAULT NULL ,     `HL` FLOAT NULL DEFAULT NULL ,     PRIMARY KEY (`splitlot_id`, `ptest_info_id`, `run_id`, `limit_index`) )       ;"

"DROP TABLE IF EXISTS   `ft_ptest_dynstats` ;   CREATE  TABLE IF NOT EXISTS   `ft_ptest_dynstats` (     `splitlot_id` INT(10) NOT NULL ,     `run_id` UNSIGNED MEDIUMINT(8)  NOT NULL ,     `ptest_info_id` UNSIGNED SMALLINT(5)  NOT NULL ,     `distribution_shape` VARCHAR(20) NULL ,     `n_factor` TINYINT(3) NULL ,     `t_factor` TINYINT(3) NULL ,     `mean` FLOAT NULL ,     `sigma` FLOAT NULL ,     `min` FLOAT NULL ,     `q1` FLOAT NULL ,     `median` FLOAT NULL ,     `q3` FLOAT NULL ,     `max` FLOAT NULL ,     `exec_count` MEDIUMINT(8) NULL ,     `fail_count` MEDIUMINT(8) NULL ,     PRIMARY KEY (`splitlot_id`, `run_id`, `ptest_info_id`) )    ;       DROP TABLE IF EXISTS   `ft_run` ; "

"CREATE  TABLE IF NOT EXISTS   `ft_run` (     `splitlot_id` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `run_id` UNSIGNED MEDIUMINT(8)  NOT NULL DEFAULT '0' ,     `site_no` SMALLINT(5) NOT NULL DEFAULT '1' ,     `part_id` VARCHAR(255) NULL DEFAULT NULL ,     `part_x` SMALLINT(6) NULL DEFAULT NULL ,     `part_y` SMALLINT(6) NULL DEFAULT NULL ,     `hbin_no` UNSIGNED SMALLINT(5) NOT NULL DEFAULT '0' ,     `sbin_no` UNSIGNED SMALLINT(5)  NULL DEFAULT NULL ,     `ttime` UNSIGNED INT(10) NULL DEFAULT NULL ,     `tests_executed` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `tests_failed` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `firstfail_tnum` UNSIGNED INT(10)  NULL DEFAULT NULL ,     `firstfail_tname` VARCHAR(255) NULL DEFAULT NULL ,     `retest_index` UNSIGNED TINYINT(3)  NOT NULL DEFAULT '0' ,     `wafer_id` VARCHAR(255) NULL DEFAULT NULL ,     `part_txt` VARCHAR(255) NULL DEFAULT NULL , CONSTRAINT `fk_ft_run_ft_event1`       FOREIGN KEY (`splitlot_id` , `run_id` )       REFERENCES   `ft_event` (`splitlot_id` , `run_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_run_ft_ptest_results1`       FOREIGN KEY (`splitlot_id` , `run_id` )       REFERENCES   `ft_ptest_results` (`splitlot_id` , `run_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_run_ft_ptest_limits1`       FOREIGN KEY (`splitlot_id` , `run_id` )       REFERENCES   `ft_ptest_dynlimits` (`splitlot_id` , `run_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_run_ft_ptest_rolling_stats1`       FOREIGN KEY (`splitlot_id` , `run_id` )       REFERENCES   `ft_ptest_dynstats` (`splitlot_id` , `run_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION); "

"DROP TABLE IF EXISTS   `ft_hbin` ;     CREATE  TABLE IF NOT EXISTS   `ft_hbin` (     `splitlot_id` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `hbin_no` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `hbin_name` VARCHAR(255) NOT NULL DEFAULT '' ,     `hbin_cat` CHAR(1) NULL DEFAULT NULL ,     `bin_family` VARCHAR(20) NULL ,     `bin_subfamily` VARCHAR(20) NULL ,     CONSTRAINT `fk_ft_hbin_ft_run1`       FOREIGN KEY (`splitlot_id` , `hbin_no` )       REFERENCES   `ft_run` (`splitlot_id` , `hbin_no` )       ON DELETE NO ACTION       ON UPDATE NO ACTION);"

"DROP TABLE IF EXISTS   `ft_ptest_info` ;     CREATE  TABLE IF NOT EXISTS   `ft_ptest_info` (     `splitlot_id` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `ptest_info_id` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `tnum` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `tname` VARCHAR(255) NOT NULL DEFAULT '' ,     `units` VARCHAR(255) NOT NULL DEFAULT '' ,     `flags` BINARY(1) NOT NULL DEFAULT '\\0' ,     `ll` FLOAT NULL DEFAULT NULL ,     `hl` FLOAT NULL DEFAULT NULL ,     `testseq` UNSIGNED SMALLINT(5)  NULL DEFAULT NULL ,     `spec_ll` FLOAT NULL DEFAULT NULL ,     `spec_hl` FLOAT NULL DEFAULT NULL ,     `spec_target` FLOAT NULL DEFAULT NULL ,     `res_scal` TINYINT(3) NULL DEFAULT NULL ,     `ll_scal` TINYINT(3) NULL DEFAULT NULL ,     `hl_scal` TINYINT(3) NULL DEFAULT NULL,     CONSTRAINT `fk_ft_ptest_info_ft_ptest_results1`       FOREIGN KEY (`splitlot_id` , `ptest_info_id` )       REFERENCES   `ft_ptest_results` (`splitlot_id` , `ptest_info_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_ptest_info_ft_ptest_limits1`       FOREIGN KEY (`splitlot_id` , `ptest_info_id` )       REFERENCES   `ft_ptest_dynlimits` (`splitlot_id` , `ptest_info_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_ptest_info_ft_ptest_rolling_stats1`       FOREIGN KEY (`splitlot_id` , `ptest_info_id` )       REFERENCES   `ft_ptest_dynstats` (`splitlot_id` , `ptest_info_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION);"

"DROP TABLE IF EXISTS   `ft_sbin` ;     CREATE  TABLE IF NOT EXISTS   `ft_sbin` (     `splitlot_id` UNSIGNED INT(10)  NOT NULL DEFAULT '0' ,     `sbin_no` UNSIGNED SMALLINT(5)  NOT NULL DEFAULT '0' ,     `sbin_name` VARCHAR(255) NOT NULL DEFAULT '' ,     `sbin_cat` CHAR(1) NULL DEFAULT NULL ,     `bin_family` VARCHAR(20) NULL ,     `bin_subfamily` VARCHAR(20) NULL ,  CONSTRAINT `fk_ft_sbin_ft_run1`       FOREIGN KEY (`splitlot_id` , `sbin_no` )       REFERENCES   `ft_run` (`splitlot_id` , `sbin_no` )       ON DELETE NO ACTION       ON UPDATE NO ACTION);"

"DROP TABLE IF EXISTS   `ft_splitlot` ;     CREATE  TABLE IF NOT EXISTS   `ft_splitlot` (     `splitlot_id` INTEGER NOT NULL ,     `lot_id` VARCHAR(255) NOT NULL DEFAULT '' ,     `sublot_id` VARCHAR(255) NOT NULL DEFAULT '' ,     `setup_t` INT(10) NOT NULL DEFAULT '0' ,     `start_t` INT(10) NOT NULL DEFAULT '0' ,     `finish_t` INT(10) NOT NULL DEFAULT '0' ,     `stat_num` UNSIGNED TINYINT(3)  NOT NULL DEFAULT '0' ,     `tester_name` VARCHAR(255) NOT NULL DEFAULT '' ,     `tester_type` VARCHAR(255) NOT NULL DEFAULT '' ,     `flags` BINARY(2) NOT NULL DEFAULT '\\0\\0' ,     `nb_parts` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `nb_parts_good` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `nb_parts_samples` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `nb_parts_samples_good` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `nb_parts_summary` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `nb_parts_summary_good` MEDIUMINT(8) NOT NULL DEFAULT '0' ,     `data_provider` VARCHAR(255) NULL DEFAULT '' ,     `data_type` VARCHAR(255) NULL DEFAULT '' ,     `prod_data` CHAR(1) NOT NULL DEFAULT 'Y' ,     `retest_index` UNSIGNED TINYINT(3)  NOT NULL DEFAULT '0' ,     `retest_hbins` VARCHAR(255) NULL DEFAULT NULL ,     `rework_code` UNSIGNED TINYINT(3)  NOT NULL DEFAULT '0' ,     `job_nam` VARCHAR(255) NOT NULL DEFAULT '' ,     `job_rev` VARCHAR(255) NOT NULL DEFAULT '' ,     `oper_nam` VARCHAR(255) NOT NULL DEFAULT '' ,     `exec_typ` VARCHAR(255) NOT NULL DEFAULT '' ,     `exec_ver` VARCHAR(255) NOT NULL DEFAULT '' ,     `test_cod` VARCHAR(255) NOT NULL DEFAULT '' ,     `facil_id` VARCHAR(255) NOT NULL DEFAULT '' ,     `tst_temp` VARCHAR(255) NOT NULL DEFAULT '' ,     `mode_cod` CHAR(1) NULL DEFAULT NULL ,     `rtst_cod` CHAR(1) NULL DEFAULT NULL ,     `prot_cod` CHAR(1) NULL DEFAULT NULL ,     `burn_tim` INT(10) NULL DEFAULT NULL ,     `cmod_cod` CHAR(1) NULL DEFAULT NULL ,     `part_typ` VARCHAR(255) NULL DEFAULT NULL ,     `user_txt` VARCHAR(255) NULL DEFAULT NULL ,     `aux_file` VARCHAR(255) NULL DEFAULT NULL ,     `pkg_typ` VARCHAR(255) NULL DEFAULT NULL ,     `famly_id` VARCHAR(255) NULL DEFAULT NULL ,     `date_cod` VARCHAR(255) NULL DEFAULT NULL ,     `floor_id` VARCHAR(255) NULL DEFAULT NULL ,     `proc_id` VARCHAR(255) NULL DEFAULT NULL ,     `oper_frq` VARCHAR(255) NULL DEFAULT NULL ,     `spec_nam` VARCHAR(255) NULL DEFAULT NULL ,     `spec_ver` VARCHAR(255) NULL DEFAULT NULL ,     `flow_id` VARCHAR(255) NULL DEFAULT NULL ,     `setup_id` VARCHAR(255) NULL DEFAULT NULL ,     `dsgn_rev` VARCHAR(255) NULL DEFAULT NULL ,     `eng_id` VARCHAR(255) NULL DEFAULT NULL ,     `rom_cod` VARCHAR(255) NULL DEFAULT NULL ,     `serl_num` VARCHAR(255) NULL DEFAULT NULL ,     `supr_nam` VARCHAR(255) NULL DEFAULT NULL ,     `nb_sites` UNSIGNED TINYINT(3)  NOT NULL DEFAULT '1' ,     `head_num` UNSIGNED TINYINT(3)  NULL DEFAULT NULL , `handler_typ` VARCHAR(255) NULL DEFAULT NULL ,     `handler_id` VARCHAR(255) NULL DEFAULT NULL ,     `card_typ` VARCHAR(255) NULL DEFAULT NULL ,     `card_id` VARCHAR(255) NULL DEFAULT NULL ,     `loadboard_typ` VARCHAR(255) NULL DEFAULT NULL ,     `loadboard_id` VARCHAR(255) NULL DEFAULT NULL ,     `dib_typ` VARCHAR(255) NULL DEFAULT NULL ,     `dib_id` VARCHAR(255) NULL DEFAULT NULL ,     `cable_typ` VARCHAR(255) NULL DEFAULT NULL ,     `cable_id` VARCHAR(255) NULL DEFAULT NULL ,     `contactor_typ` VARCHAR(255) NULL DEFAULT NULL ,     `contactor_id` VARCHAR(255) NULL DEFAULT NULL ,     `laser_typ` VARCHAR(255) NULL DEFAULT NULL ,     `laser_id` VARCHAR(255) NULL DEFAULT NULL ,     `extra_typ` VARCHAR(255) NULL DEFAULT NULL ,     `extra_id` VARCHAR(255) NULL DEFAULT NULL ,     `file_host_id` UNSIGNED INT(10)  NULL DEFAULT '0' ,     `file_path` VARCHAR(255) NOT NULL DEFAULT '' ,     `file_name` VARCHAR(255) NOT NULL DEFAULT '' ,     `valid_splitlot` CHAR(1) NOT NULL DEFAULT 'N' ,     `insertion_time` UNSIGNED INT(10) NOT NULL DEFAULT '0' ,     `subcon_lot_id` VARCHAR(255) NOT NULL DEFAULT '' ,     `incremental_update` VARCHAR(255) NULL DEFAULT NULL ,     `sya_id` UNSIGNED INT(10)  NULL DEFAULT '0' ,     `day` VARCHAR(10) NOT NULL ,     `week_nb` UNSIGNED TINYINT(2) NOT NULL ,     `month_nb` UNSIGNED TINYINT(2)  NOT NULL ,     `quarter_nb` UNSIGNED TINYINT(1)  NOT NULL ,     `year_nb` SMALLINT(4) NOT NULL ,     `year_and_week` VARCHAR(7) NOT NULL ,     `year_and_month` VARCHAR(7) NOT NULL ,     `year_and_quarter` VARCHAR(7) NOT NULL ,     `recipe_id` INT NULL ,     PRIMARY KEY(`splitlot_id`) ,  CONSTRAINT `fk_ft_splitlot_ft_sbin1`       FOREIGN KEY (`splitlot_id` )       REFERENCES   `ft_sbin` (`splitlot_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_splitlot_ft_hbin1`       FOREIGN KEY (`splitlot_id` )       REFERENCES   `ft_hbin` (`splitlot_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_splitlot_ft_run1`       FOREIGN KEY (`splitlot_id` )       REFERENCES   `ft_run` (`splitlot_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION,     CONSTRAINT `fk_ft_splitlot_ft_ptest_info1`       FOREIGN KEY (`splitlot_id` )       REFERENCES   `ft_ptest_info` (`splitlot_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION);"

"DROP TABLE IF EXISTS   `global_files` ;     CREATE  TABLE IF NOT EXISTS   `global_files` (     `file_id` UNSIGNED INTEGER  NOT NULL ,     `file_name` VARCHAR(255) NOT NULL ,     `file_format` VARCHAR(255) NOT NULL ,     `file_content` MEDIUMBLOB NOT NULL ,     `file_checksum` UNSIGNED INT(10)  NULL ,     `file_type` VARCHAR(255) NULL ,     `file_last_update` DATETIME NULL ,     PRIMARY KEY(`file_id`) ,     CONSTRAINT `fk_global_files_ft_splitlot1`       FOREIGN KEY (`file_id` )       REFERENCES   `ft_splitlot` (`recipe_id` )       ON DELETE NO ACTION       ON UPDATE NO ACTION)    ;"

"DROP TABLE IF EXISTS   `global_settings` ;     CREATE  TABLE IF NOT EXISTS   `global_settings` (     `key` VARCHAR(20) NOT NULL ,     `value` BLOB NULL ,     PRIMARY KEY (`key`) );"
