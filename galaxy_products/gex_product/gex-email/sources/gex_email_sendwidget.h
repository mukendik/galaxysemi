#ifndef GEX_EMAIL_SENDWIDGET_H
#define GEX_EMAIL_SENDWIDGET_H

///////////////////////////////////////////////////////////////////////////////////
// GEX-EMAIL Includes
///////////////////////////////////////////////////////////////////////////////////
#include "gexemail_constants.h"

///////////////////////////////////////////////////////////////////////////////////
// QT Includes
///////////////////////////////////////////////////////////////////////////////////
#include <QWidget>

///////////////////////////////////////////////////////////////////////////////////
// GUI Includes
///////////////////////////////////////////////////////////////////////////////////
#include "ui_smtppage_base.h"

class QValidator;
class CGexEmailSend;
class CGexEmailSmtp;

///////////////////////////////////////////////////////////////////////////////////
// 
// Name			:	CGexEmailSendWidget
//
// Description	:	Base class of the widget used to define a mail system
//
///////////////////////////////////////////////////////////////////////////////////
class CGexEmailSendWidget : public QWidget
{
	Q_OBJECT

public:

	CGexEmailSendWidget(QWidget* parent, Qt::WindowFlags fl);
	~CGexEmailSendWidget();

///////////////////////////////////////////////////////////////////////////////////////
// Properties
///////////////////////////////////////////////////////////////////////////////////////
	
	const QString&					name() const				{ return m_strName; }	
	const QString&					icon() const				{ return m_strIcon;	}

	virtual const CGexEmailSend *	gexEmailSend() const = 0;

protected:
	
	QString			m_strName;
	QString			m_strIcon;
};


///////////////////////////////////////////////////////////////////////////////////
// 
// Name			:	CGexEmailSendWidget
//
// Description	:	Widget used to define the smtp system
//
///////////////////////////////////////////////////////////////////////////////////
class CGexEmailSendWidgetSmtp : public CGexEmailSendWidget, public Ui::CSmtpPage_base
{
	Q_OBJECT

public:

	CGexEmailSendWidgetSmtp(CGexEmailSmtp * pSmtp, QWidget* parent, Qt::WindowFlags fl);
	virtual ~CGexEmailSendWidgetSmtp();

///////////////////////////////////////////////////////////////////////////////////////
// Properties
///////////////////////////////////////////////////////////////////////////////////////
	const CGexEmailSend *	gexEmailSend() const				{ return (CGexEmailSend*) m_pSmtp; }

protected:

	QValidator *	m_pSmtpPortValidator;					// Validator for port edit widget	
	CGexEmailSmtp *	m_pSmtp;								// Sender object 

protected slots:
	
    void			on_buttonTest_clicked();				// Implicit Signal/Slot connection
};

#endif // GEX_EMAIL_SENDWIDGET_H
