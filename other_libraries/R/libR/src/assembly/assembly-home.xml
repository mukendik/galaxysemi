<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>assembly-rhome</id>
    <formats>
        <format>${archiveExt}</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <!-- cf http://maven.apache.org/plugins/maven-assembly-plugin/advanced-module-set-topics.html -->
    <fileSets>
        <fileSet>
            <directory>${R_HOME}/library</directory>
            <outputDirectory>library</outputDirectory>
            <excludes>
                <exclude>base/demo</exclude>
                <exclude>base/demo/**/*</exclude>
                <exclude>base/help</exclude>
                <exclude>base/help/**/*</exclude>
                <exclude>base/html</exclude>
                <exclude>base/html/**/*</exclude>
                <exclude>compiler</exclude>
                <exclude>compiler/**/*</exclude>
                <exclude>datasets/help</exclude>
                <exclude>datasets/help/**/*</exclude>
                <exclude>datasets/html</exclude>
                <exclude>datasets/html/**/*</exclude>
                <exclude>grDevices/demo</exclude>
                <exclude>grDevices/demo/**/*</exclude>
                <exclude>grDevices/help</exclude>
                <exclude>grDevices/help/**/*</exclude>
                <exclude>grDevices/html</exclude>
                <exclude>grDevices/html/**/*</exclude>
                <exclude>graphics/demo</exclude>
                <exclude>graphics/demo/**/*</exclude>
                <exclude>graphics/help</exclude>
                <exclude>graphics/help/**/*</exclude>
                <exclude>graphics/html</exclude>
                <exclude>graphics/html/**/*</exclude>
                <exclude>grid</exclude>
                <exclude>grid/**/*</exclude>
                <exclude>methods/help</exclude>
                <exclude>methods/help/**/*</exclude>
                <exclude>methods/html</exclude>
                <exclude>methods/html/**/*</exclude>
                <exclude>parallel</exclude>
                <exclude>parallel/**/*</exclude>
                <exclude>splines</exclude>
                <exclude>splines/**/*</exclude>
                <exclude>stats/demo</exclude>
                <exclude>stats/demo/**/*</exclude>
                <exclude>stats/help</exclude>
                <exclude>stats/help/**/*</exclude>
                <exclude>stats/html</exclude>
                <exclude>stats/html/**/*</exclude>
                <exclude>stats4</exclude>
                <exclude>stats4/**/*</exclude>
                <exclude>tcltk</exclude>
                <exclude>tcltk/**/*</exclude>
                <exclude>tools</exclude>
                <exclude>tools/**/*</exclude>
                <exclude>translations</exclude>
                <exclude>translations/**/*</exclude>
                <exclude>utils/help</exclude>
                <exclude>utils/help/**/*</exclude>
                <exclude>utils/html</exclude>
                <exclude>utils/html/**/*</exclude>
                <exclude>**/*${libPostfix}</exclude>
            </excludes>
        </fileSet>  
        <fileSet>
            <directory>${R_HOME}/library</directory>
            <outputDirectory>library</outputDirectory>
            <includes>
                <include>**/*${libPostfix}</include>
            </includes>
            <fileMode>0755</fileMode>
        </fileSet>  
        <fileSet>
            <directory>${R_HOME}/modules</directory>
            <outputDirectory>modules</outputDirectory>
            <excludes>
                <exclude>internet.so</exclude>
                <exclude>R_de.so</exclude>
                <exclude>**/*${libPostfix}</exclude>
            </excludes>
        </fileSet>           
        <fileSet>
            <directory>${R_HOME}/modules</directory>
            <outputDirectory>modules</outputDirectory>
            <includes>
                <include>**/*${libPostfix}</include>
            </includes>
            <fileMode>0755</fileMode>
        </fileSet>          
        <fileSet>
            <directory>${R_HOME}/etc</directory>
            <outputDirectory>etc</outputDirectory>
            <excludes/>
        </fileSet>  
    </fileSets>
</assembly>
