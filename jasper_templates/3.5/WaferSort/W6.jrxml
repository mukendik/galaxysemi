<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="W6" columnCount="18" printOrder="Horizontal" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="44" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" whenResourceMissingType="Empty">
	<style name="Crosstab Data Text" isDefault="false"/>
	<parameter name="PYEARS_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["2007"]]></defaultValueExpression>
	</parameter>
	<parameter name="PBINTYPE_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["h"]]></defaultValueExpression>
	</parameter>
	<parameter name="PWAFERZPARAMETER_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["disabled"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTERSERIES_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="PVERSION" class="java.lang.String">
		<defaultValueExpression><![CDATA["0.2 (2009 Dec 23th Beta)"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER1_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["disabled"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER1VALUE_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER2_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["disabled"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER2VALUE_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER3_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["disabled"]]></defaultValueExpression>
	</parameter>
	<parameter name="PFILTER3VALUE_IC" class="java.lang.String">
		<defaultValueExpression><![CDATA["%"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select
 MONTHS.product_id as product_id,
 MONTHS.fab as fab,
 MONTHS.serie as serie,
 MONTHS.month as month,
 case when T.gross_die is null then 0 else T.gross_die end as gross_die,
 case when T.gross_die is null then 0 else T.bin_parts end as bin_parts,
 (bin_parts/gross_die)*100 as bin_yield,
 MONTHS.bin_no as bin_no,
 MONTHS.bin_name as bin_name
from
(	# T
	select
	 BIN_PARTS.product_id as product_id,
	 BIN_PARTS.fab as fab,
	 BIN_PARTS.serie as serie,
	 BIN_PARTS.month as month,
	 TOT_PARTS.gross_die as gross_die,
	 BIN_PARTS.bin_parts as bin_parts,
	 BIN_PARTS.bin_no as bin_no,
	 BIN_PARTS.bin_name as bin_name
	from
	(
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
	 		case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			TCW.month as month,
			SUM(case when TBIN.nb_parts is null then 0 else TBIN.nb_parts end) AS bin_parts,
			CONVERT(TBIN.$P!{PBINTYPE_IC}bin_no, SIGNED) as bin_no,
			concat("Bin ", case TBIN.$P!{PBINTYPE_IC}bin_name when "" then TBIN.$P!{PBINTYPE_IC}bin_no else TBIN.$P!{PBINTYPE_IC}bin_name  end) as bin_name
		from
			wt_consolidated_wafer TCW
		left outer join
			wt_wafer_$P!{PBINTYPE_IC}bin TBIN
		on TBIN.lot_id=TCW.lot_id AND TBIN.wafer_id=TCW.wafer_id
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
			AND TBIN.nb_parts > 0
		group by TCW.product_id, TCW.facility_id, serie, TCW.month, TBIN.$P!{PBINTYPE_IC}bin_no

	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			TCW.month as month,
			SUM(TCW.gross_die) AS bin_parts,
			CONVERT(-2, SIGNED) as bin_no,
			'IN' as bin_name	# 'GrossDie'
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END

		group by TCW.product_id, TCW.facility_id, serie, TCW.month
	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			TCW.month as month,
			SUM(TCW.parts_good) AS bin_parts,
			CONVERT(-1, SIGNED) as bin_no,
			'OUT' as bin_name	# 'GoodParts'
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
		group by TCW.product_id, TCW.facility_id, serie, TCW.month
	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			'YTD' as month,
			SUM(case when TBIN.nb_parts is null then 0 else TBIN.nb_parts end) AS bin_parts,
			CONVERT(TBIN.$P!{PBINTYPE_IC}bin_no, SIGNED) as bin_no,
			concat("Bin ", case TBIN.$P!{PBINTYPE_IC}bin_name when "" then TBIN.$P!{PBINTYPE_IC}bin_no else TBIN.$P!{PBINTYPE_IC}bin_name  end) as bin_name			
		from
			wt_consolidated_wafer TCW
		left outer join
			wt_wafer_$P!{PBINTYPE_IC}bin TBIN
		on TBIN.lot_id=TCW.lot_id AND TBIN.wafer_id=TCW.wafer_id
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
			AND TBIN.nb_parts > 0
		group by TCW.product_id, TCW.facility_id, serie, TBIN.$P!{PBINTYPE_IC}bin_no
	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			'YTD' as month,
			SUM(TCW.gross_die) AS bin_parts,
			CONVERT(-2, SIGNED) as bin_no,
			'IN' as bin_name # GrossDie
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
		group by TCW.product_id, TCW.facility_id, serie
	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			'YTD' as month,
			SUM(TCW.parts_good) AS bin_parts,
			CONVERT(-1, SIGNED) as bin_no,
			'OUT' as bin_name # 'Good_Parts' 
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
		group by TCW.product_id, TCW.facility_id, serie

    ) BIN_PARTS
	left outer join
	(
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
	 		case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			TCW.month as month,
			SUM(TCW.gross_die) as gross_die
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
		group by TCW.product_id, TCW.facility_id, serie, TCW.month
	UNION
		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
	 		case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			'YTD' as month,
			SUM(TCW.gross_die) as gross_die
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
		group by TCW.product_id, TCW.facility_id, serie

	) TOT_PARTS
	ON TOT_PARTS.product_id=BIN_PARTS.product_id AND TOT_PARTS.fab=BIN_PARTS.fab 
	AND TOT_PARTS.serie=BIN_PARTS.serie AND TOT_PARTS.month=BIN_PARTS.month

) T
right outer join
(
	#AllProducts/AllMonths/AllBins
    select  T0.product_id, T0.fab, T0.serie, T1.month, T0.bin_no, T0.bin_name
    from
    (
		select distinct
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			-1 as bin_no,
			'OUT' as bin_name # 'PartsGood' 
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
	UNION
		select  distinct
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			-2 as bin_no,
			'IN' as bin_name # 'GrossDie' 
		from
			wt_consolidated_wafer TCW
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
	UNION

 		select 
			TCW.product_id as product_id,
			TCW.facility_id as fab,
			case($P{PWAFERZPARAMETER_IC}) WHEN 'Disabled' then TCW.disabled else TCW.$P!{PWAFERZPARAMETER_IC} end as serie,
			TBIN.$P!{PBINTYPE_IC}bin_no as bin_no,
			concat("Bin ", case TBIN.$P!{PBINTYPE_IC}bin_name when "" then TBIN.$P!{PBINTYPE_IC}bin_no else TBIN.$P!{PBINTYPE_IC}bin_name  end) as bin_name
		from
			wt_consolidated_wafer TCW
		left outer join
			wt_wafer_$P!{PBINTYPE_IC}bin TBIN
		on TBIN.lot_id=TCW.lot_id AND TBIN.wafer_id=TCW.wafer_id
		where
			TCW.year=$P{PYEARS_IC}
			AND TCW.$P!{PWAFERZPARAMETER_IC} like CASE('$P!{PFILTERSERIES_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTERSERIES_IC}' END
			AND TCW.$P!{PFILTER1_IC} like CASE('$P!{PFILTER1VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER1VALUE_IC}' END
			AND TCW.$P!{PFILTER2_IC} like CASE('$P!{PFILTER2VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER2VALUE_IC}' END
			AND TCW.$P!{PFILTER3_IC} like CASE('$P!{PFILTER3VALUE_IC}') WHEN 'null' THEN '%' ELSE '$P!{PFILTER3VALUE_IC}' END
			AND TBIN.nb_parts > 0
		group by TCW.product_id, TCW.facility_id, serie, TBIN.$P!{PBINTYPE_IC}bin_no
	) T0
    inner join
    (
        	select CONVERT(CONCAT($P{PYEARS_IC},'-01'), CHAR) as month
        UNION select CONVERT( CONCAT($P{PYEARS_IC},'-02'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-03'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-04'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-05'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-06'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-07'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-08'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-09'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-10'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-11'), CHAR) as month
        UNION select CONVERT(CONCAT($P{PYEARS_IC},'-12'), CHAR) as month
        UNION select 'YTD' as month
    ) T1
) MONTHS
on
  MONTHS.product_id=T.product_id AND
  MONTHS.fab=T.fab AND
  MONTHS.serie=T.serie AND
  MONTHS.month=T.month AND
  MONTHS.bin_no=T.bin_no

#where MONTHS.product_id='ANBAD60BDAA' #ANACA30JCOA'
order by MONTHS.product_id, MONTHS.fab, MONTHS.serie, MONTHS.bin_no, MONTHS.month 
;]]>
	</queryString>
	<field name="product_id" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="fab" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="serie" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="month" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="gross_die" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bin_parts" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bin_yield" class="java.math.BigDecimal">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bin_no" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="bin_name" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<group name="product">
		<groupExpression><![CDATA[$F{product_id}]]></groupExpression>
		<groupHeader>
			<band height="16" isSplitAllowed="false">
				<line>
					<reportElement x="1" y="1" width="760" height="1"/>
				</line>
				<textField>
					<reportElement x="1" y="2" width="486" height="14"/>
					<textElement verticalAlignment="Middle">
						<font size="11" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[" Product "+$F{product_id}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="5" isSplitAllowed="false"/>
		</groupFooter>
	</group>
	<group name="fab">
		<groupExpression><![CDATA[$F{fab}]]></groupExpression>
		<groupHeader>
			<band height="13" isSplitAllowed="false">
				<textField>
					<reportElement x="23" y="0" width="150" height="13"/>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Fab "+$F{fab}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band isSplitAllowed="false"/>
		</groupFooter>
	</group>
	<group name="tech">
		<groupExpression><![CDATA[$F{serie}]]></groupExpression>
		<groupHeader>
			<band height="14" isSplitAllowed="false">
				<textField>
					<reportElement x="35" y="0" width="142" height="13">
						<printWhenExpression><![CDATA[new Boolean(!$P{PWAFERZPARAMETER_IC}.matches("disabled") )]]></printWhenExpression>
					</reportElement>
					<textElement verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$P{PWAFERZPARAMETER_IC}+" "+$F{serie}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="181" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Jan"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="225" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Feb"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="269" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Mar"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="312" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Apr"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="355" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["May"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="400" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Jun"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="444" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Jul"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="488" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Aug"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="532" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Sep"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="577" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Oct"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="621" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Nov"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="664" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["Dec"]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="709" y="0" width="35" height="13"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA["YTD"]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band isSplitAllowed="false"/>
		</groupFooter>
	</group>
	<group name="BIN">
		<groupExpression><![CDATA[$F{bin_name}+$F{bin_no}]]></groupExpression>
		<groupHeader>
			<band height="1" isSplitAllowed="false"/>
		</groupHeader>
	</group>
	<background>
		<band/>
	</background>
	<title>
		<band height="111">
			<textField>
				<reportElement x="0" y="0" width="802" height="21"/>
				<textElement textAlignment="Center">
					<font size="14" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{PYEARS_IC}+" Products "+ ($P{PBINTYPE_IC}.matches("h")?"hard":"soft")+" bins details"]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="false">
				<reportElement x="325" y="22" width="413" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($P{PWAFERZPARAMETER_IC}.matches("disabled") == false)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PFIELD_NAME">
					<subreportParameterExpression><![CDATA[$P{PWAFERZPARAMETER_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFILTER_LABEL">
					<subreportParameterExpression><![CDATA["Serie :"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFIELD_VALUE">
					<subreportParameterExpression><![CDATA[$P{PFILTERSERIES_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA["repo:/Resources/PARAMETER_JRXML"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="false">
				<reportElement x="325" y="43" width="413" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($P{PFILTER1_IC}.matches("disabled") == false)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PFIELD_NAME">
					<subreportParameterExpression><![CDATA[$P{PFILTER1_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFILTER_LABEL">
					<subreportParameterExpression><![CDATA["Filter 1 :"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFIELD_VALUE">
					<subreportParameterExpression><![CDATA[$P{PFILTER1VALUE_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA["repo:/Resources/PARAMETER_JRXML"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="false">
				<reportElement x="325" y="63" width="413" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($P{PFILTER2_IC}.matches("disabled") == false)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PFIELD_NAME">
					<subreportParameterExpression><![CDATA[$P{PFILTER2_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFILTER_LABEL">
					<subreportParameterExpression><![CDATA["Filter 2 :"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFIELD_VALUE">
					<subreportParameterExpression><![CDATA[$P{PFILTER2VALUE_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA["repo:/Resources/PARAMETER_JRXML"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="false">
				<reportElement x="325" y="83" width="413" height="20" isRemoveLineWhenBlank="true">
					<printWhenExpression><![CDATA[new Boolean($P{PFILTER3_IC}.matches("disabled") == false)]]></printWhenExpression>
				</reportElement>
				<subreportParameter name="PFIELD_NAME">
					<subreportParameterExpression><![CDATA[$P{PFILTER3_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFILTER_LABEL">
					<subreportParameterExpression><![CDATA["Filter 3 :"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PFIELD_VALUE">
					<subreportParameterExpression><![CDATA[$P{PFILTER3VALUE_IC}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression class="java.lang.String"><![CDATA["repo:/Resources/PARAMETER_JRXML"]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<pageHeader>
		<band height="14">
			<textField>
				<reportElement x="181" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["01"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="225" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["02"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="269" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["03"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="313" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["04"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="356" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["05"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="400" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["06"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="444" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["07"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="487" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["08"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="530" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["09"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="574" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["10"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="619" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["11"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="665" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["12"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="709" y="0" width="35" height="13"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["YTD"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band/>
	</columnHeader>
	<detail>
		<band height="22" isSplitAllowed="false">
			<textField>
				<reportElement x="177" y="0" width="43" height="11"/>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{bin_parts}.toString()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement isPrintRepeatedValues="false" x="23" y="1" width="150" height="19"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{bin_name}+ ( ($F{bin_no}.intValue()>-1)?(" ("+$F{bin_no}.toString()+")"):""  )]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="177" y="11" width="43" height="11">
					<printWhenExpression><![CDATA[new Boolean(!$F{bin_name}.matches("IN"))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[(($F{bin_yield}==null)?"0":(($F{bin_yield}.setScale(1,BigDecimal.ROUND_DOWN)).toString()))+"%"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
	<pageFooter>
		<band height="19">
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="753" y="0" width="39" height="19" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Bottom">
					<font size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["" + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="566" y="0" width="184" height="19" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="1" y="0" width="210" height="19" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Bottom">
					<font size="10"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="211" y="0" width="203" height="19"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA["Version "+$P{PVERSION}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="40">
			<textField>
				<reportElement x="0" y="0" width="802" height="39"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA["Notes : IN is the total gross die parts of the month. OUT is the total good parts  (all Pass bins). For each binning, the % is computed from the total gross die of the month."]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
